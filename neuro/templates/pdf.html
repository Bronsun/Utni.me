{% extends "main.html" %}
{% block content %}
<style>
#progressBar {
  position: relative;
  width: 100%;
  height: 30px;
  margin-top: 10vh;
  background-color: #ddd;
}

#barStatus {
  position: absolute;
  width: 0%;
  height: 100%;
  background-color: rgb(47, 75, 168);
}

</style>



<section class="section">
    <div class="container">
        
        <h2>Łączenie PDF</h2>
        
        <div class="box">
            <form action="/pdf_merge" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    
                      
                <input type="file" id="pdf" accept="application/pdf" multiple/>
                     
                <button class="button is-primary" type="submit" onclick="move()">Dodaj pliki </button>
                <div id="progressBar">
                    <div id="barStatus"></div>
                  </div>
                {%if error%}
                <p>{{error}}</p>
                {%endif%}

                {{names}}
            </form>
        </div>
    </div>
</section>
<script>
    var width = 8;
function move() {
  var elem = document.getElementById("barStatus");   
  
  var id = setInterval(frame, 100);
  function frame() {
    if (width >= 100) {
      //clearInterval(id);
    } else {
      width++; 
      elem.style.width = width + '%'; 
    }
  }
}
</script>
{%endblock content%}